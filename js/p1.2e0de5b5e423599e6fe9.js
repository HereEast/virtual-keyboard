(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>i});const t=[{code:"Backquote",key:{en:"`",ru:"]"},shift:{en:"~",ru:"["}},{code:"Digit1",key:{en:"1",ru:"1"},shift:{en:"!",ru:"!"}},{code:"Digit2",key:{en:"2",ru:"2"},shift:{en:"@",ru:'"'}},{code:"Digit3",key:{en:"3",ru:"3"},shift:{en:"#",ru:"№"}},{code:"Digit4",key:{en:"4",ru:"4"},shift:{en:"$",ru:"%"}},{code:"Digit5",key:{en:"5",ru:"5"},shift:{en:"%",ru:":"}},{code:"Digit6",key:{en:"6",ru:"6"},shift:{en:"^",ru:","}},{code:"Digit7",key:{en:"7",ru:"7"},shift:{en:"&",ru:"."}},{code:"Digit8",key:{en:"8",ru:"8"},shift:{en:"*",ru:";"}},{code:"Digit9",key:{en:"9",ru:"9"},shift:{en:"(",ru:"("}},{code:"Digit0",key:{en:"0",ru:"0"},shift:{en:")",ru:")"}},{code:"Minus",key:{en:"-",ru:"-"},shift:{en:"_",ru:"_"}},{code:"Equal",key:{en:"=",ru:"+"},shift:{en:"+",ru:"+"}},{code:"Backspace",key:"Backspace"},{code:"Tab",key:"Tab"},{code:"KeyQ",key:{en:"q",ru:"й"},shift:{en:"Q",ru:"Й"}},{code:"KeyW",key:{en:"w",ru:"ц"},shift:{en:"W",ru:"Ц"}},{code:"KeyE",key:{en:"e",ru:"у"},shift:{en:"E",ru:"У"}},{code:"KeyR",key:{en:"r",ru:"к"},shift:{en:"R",ru:"К"}},{code:"KeyT",key:{en:"t",ru:"е"},shift:{en:"T",ru:"Е"}},{code:"KeyY",key:{en:"y",ru:"н"},shift:{en:"Y",ru:"Н"}},{code:"KeyU",key:{en:"u",ru:"г"},shift:{en:"U",ru:"Г"}},{code:"KeyI",key:{en:"i",ru:"ш"},shift:{en:"I",ru:"Ш"}},{code:"KeyO",key:{en:"o",ru:"щ"},shift:{en:"O",ru:"Щ"}},{code:"KeyP",key:{en:"p",ru:"з"},shift:{en:"P",ru:"З"}},{code:"BracketLeft",key:{en:"[",ru:"х"},shift:{en:"{",ru:"Х"}},{code:"BracketRight",key:{en:"]",ru:"х"},shift:{en:"}",ru:"Х"}},{code:"Backslash",key:{en:"\\",ru:"ё"},shift:{en:"|",ru:"Ё"}},{code:"CapsLock",key:"CapsLock"},{code:"KeyA",key:{en:"a",ru:"ф"},shift:{en:"A",ru:"Ф"}},{code:"KeyS",key:{en:"s",ru:"ы"},shift:{en:"S",ru:"Ы"}},{code:"KeyD",key:{en:"d",ru:"в"},shift:{en:"D",ru:"В"}},{code:"KeyF",key:{en:"f",ru:"а"},shift:{en:"F",ru:"А"}},{code:"KeyG",key:{en:"g",ru:"п"},shift:{en:"G",ru:"П"}},{code:"KeyH",key:{en:"h",ru:"р"},shift:{en:"H",ru:"Р"}},{code:"KeyJ",key:{en:"j",ru:"о"},shift:{en:"J",ru:"О"}},{code:"KeyK",key:{en:"k",ru:"л"},shift:{en:"K",ru:"Л"}},{code:"KeyL",key:{en:"l",ru:"д"},shift:{en:"L",ru:"Д"}},{code:"Semicolon",key:{en:";",ru:"ж"},shift:{en:":",ru:"Ж"}},{code:"Quote",key:{en:"'",ru:"э"},shift:{en:'"',ru:"Э"}},{code:"Enter",key:"Enter"},{code:"ShiftLeft",key:"Shift"},{code:"KeyZ",key:{en:"z",ru:"я"},shift:{en:"Z",ru:"Я"}},{code:"KeyX",key:{en:"x",ru:"ч"},shift:{en:"X",ru:"Ч"}},{code:"KeyC",key:{en:"c",ru:"с"},shift:{en:"C",ru:"С"}},{code:"KeyV",key:{en:"v",ru:"м"},shift:{en:"V",ru:"М"}},{code:"KeyB",key:{en:"b",ru:"и"},shift:{en:"B",ru:"И"}},{code:"KeyN",key:{en:"n",ru:"т"},shift:{en:"N",ru:"Т"}},{code:"KeyM",key:{en:"m",ru:"ь"},shift:{en:"M",ru:"Ь"}},{code:"Comma",key:{en:",",ru:"б"},shift:{en:"<",ru:"Б"}},{code:"Period",key:{en:".",ru:"ю"},shift:{en:">",ru:"Ю"}},{code:"Slash",key:{en:"/",ru:"/"},shift:{en:"?",ru:"?"}},{code:"ShiftRight",key:"Shift"},{code:"Fn",key:"Fn"},{code:"ControlLeft",key:"Control"},{code:"AltLeft",key:"Alt"},{code:"MetaLeft",key:"Meta"},{code:"Space",key:" "},{code:"MetaRight",key:"Meta"},{code:"AltRight",key:"Alt"},{code:"ArrowLeft",key:"ArrowLeft"},{code:"ArrowUp",key:"ArrowUp"},{code:"ArrowDown",key:"ArrowDown"},{code:"ArrowRight",key:"ArrowRight"}];function n(e){return document.querySelector(`[data-code=${e}]`)}function r(e,...t){const n=document.createElement(e);return n.classList.add(...t),n}const o={Backspace:"key__delete",Tab:"key__tab",MetaLeft:"key__cmd--left",MetaRight:"key__cmd--right",CapsLock:"key__caps",Enter:"key__return",ShiftLeft:"key__shift--left",ShiftRight:"key__shift--right",Space:"key__space",Fn:"key__fn",AltLeft:"key__opt",AltRight:"key__opt",ControlLeft:"key__ctrl",ArrowLeft:"key__arrow",ArrowUp:"key__arrow",ArrowDown:"key__arrow",ArrowRight:"key__arrow"};function c(e){const t=`[data-code=${e.code}]`,n=document.querySelector(t);"keydown"===e.type&&n.classList.add("key--active"),"keyup"===e.type&&n.classList.remove("key--active")}class s{constructor(e){this.lang=e}create(){const e=document.querySelector(".keyboard__container");t.forEach((t=>{const n=function(e,t){let n=e.key[t]?e.key[t]:e.key;return"Enter"===n&&(n="Return"),"Backspace"===n&&(n="Delete"),"CapsLock"===n&&(n="Caps Lock"),"Alt"===n&&(n="Opt"),"Meta"===n&&(n="Cmd"),"Control"===n&&(n="Ctrl"),"ArrowLeft"===n&&(n=""),"ArrowUp"===n&&(n=""),"ArrowDown"===n&&(n=""),"ArrowRight"===n&&(n=""),n}(t,this.lang),c=r("button","key");c.dataset.code=t.code,t.key.en&&(c.dataset.en=t.key.en,c.dataset.ru=t.key.ru),t.shift&&(c.dataset.shiftEn=t.shift.en,c.dataset.shiftRu=t.shift.ru),function(e){const t=e.dataset.code,n=o[t];n&&e.classList.add(n,"label--small"),(e.classList.contains("key__shift--left")||e.classList.contains("key__shift--right"))&&e.classList.add("key__shift"),(e.classList.contains("key__cmd--left")||e.classList.contains("key__cmd--right"))&&e.classList.add("key__cmd")}(c);const s=r("span","label");s.textContent=n.toUpperCase(),c.append(s),e.append(c)}));const n=function(){const e=document.querySelectorAll(".key__arrow"),t=r("div","arrows"),n=r("div","arrows--middle");return e.forEach((e=>{const r=e.dataset.code;r.includes("Up")||r.includes("Down")?n.append(e):t.append(e)})),t.children[0].after(n),t}();e.append(n)}}const{body:i}=document;alert("Привет! \nНе доделала немного проект, буду благодарна, если дашь мне время и подождешь с проверкой до четверга. \nСпасибо ʕ •ᴥ•ʔ");let a="en";!function(){const e=r("div","page"),t=r("main","main"),n=r("div","intro__container"),o=r("div","textarea__container"),c=r("textarea","textarea"),s=r("div","keyboard"),a=r("div","keyboard__container"),d=r("p","description");d.innerHTML="This keyboard was created for Mac OS. <br> To delete prev character use <span>DELETE</span>, to delete next character use <span>CTRL + D</span>",n.append(d),o.append(c),s.append(a),t.append(n,o,s),e.append(t),i.prepend(e)}(),function(e){new s(e).create()}(a);const d=document.querySelector(".keyboard"),u=document.querySelector(".textarea"),y=Array.from(document.querySelectorAll(".key__shift")),f=n("CapsLock"),k=n("ControlLeft"),l=" ".repeat(4);let h,p=u.value,_=0,L=!1,v=!1,w=!1;function g(e){m(0);const t=p.slice(0,_),n=p.slice(_);u.value=t+e+n,m(e.length)}function m(e){u.selectionStart=_+e,u.selectionEnd=u.selectionStart,_=u.selectionStart}function A(e){e.preventDefault();const t=_,n=u.value.slice(0,t),r=u.value.slice(t+1);u.value=n+r,m(0)}function K(e){e.preventDefault(),f.classList.toggle("key--active"),L=!!f.classList.contains("key--active")}function S(e){const t=e.target.closest(".key__shift");"mousedown"===e.type&&(t.classList.add("key--active"),v=!0),"mouseup"===e.type&&(t.classList.remove("key--active"),v=!1)}function C(e){"mousedown"!==e.type&&"keydown"!==e.type||(k.classList.add("key--active"),w=!0),"mouseup"!==e.type&&"keyup"!==e.type||(k.classList.remove("key--active"),w=!1)}function E(e){let t;if(e.dataset[a]||(t=""),e.dataset[a]&&(t=e.dataset[a]),v){const n="shift"+a[0].toUpperCase()+a.slice(1);e.dataset[a]&&(t=e.dataset[n])}return"Space"===e.dataset.code&&(t=" "),"Tab"===e.dataset.code&&(t=l),"Enter"===e.dataset.code&&(t="\n"),t}u.focus(),window.addEventListener("keydown",(function(e){h=e.code,u.focus(),"CapsLock"===e.code&&K(e),"ControlLeft"===e.code&&C(e),w&&"KeyD"===h?A(e):("Tab"===h&&(e.preventDefault(),g(l)),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(v=!0),c(e))})),window.addEventListener("keyup",(function(e){"CapsLock"===e.code&&K(e),"ControlLeft"===e.code&&C(e),v=!1,p=u.value,_=u.selectionStart,c(e)})),d.addEventListener("click",(function(e){const t=e.target.closest("button");if(!t)return;if(h=t.dataset.code,u.focus(),"Backspace"===h)return void function(){const e=_-1;if(e<0)return;const t=u.value.slice(0,e),n=u.value.slice(e+1);u.value=t+n,m(-1)}();if(w&&"KeyD"===h)return void A(e);h.includes("Arrow")&&function(){if("ArrowLeft"===h){if(0===_)return;m(-1)}if("ArrowRight"===h){if(_===u.value.length)return;m(1)}}();let n=E(t);"CapsLock"===t.dataset.code&&K(e),L&&(n=n.toUpperCase()),g(n),p=u.value})),u.addEventListener("input",(function(){if(L=f.classList.contains("key--active"),v=y.some((e=>e.classList.contains("key--active"))),L&&g(E(n(h)).toUpperCase()),v){let e;const t=n(h),r="shift"+a[0].toUpperCase()+a.slice(1);if(!t.dataset[a])return;e=t.dataset[r],g(e)}})),u.addEventListener("click",(function(){_=u.selectionStart,u.selectionStart=_})),y.forEach((e=>{e.addEventListener("mousedown",S),e.addEventListener("mouseup",S)})),k.addEventListener("mousedown",C),k.addEventListener("mouseup",C)})();